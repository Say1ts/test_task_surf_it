{"openapi":"3.1.0","info":{"title":"surf_it_test_task","version":"0.1.0"},"paths":{"/ad/create":{"post":{"tags":["ad"],"summary":"Create Ad","operationId":"ad-create_ad","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdBase"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/ad/list":{"post":{"tags":["ad"],"summary":"List Ads","operationId":"ad-list_ads","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdListQuery"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ad/{ad_id}/get/":{"get":{"tags":["ad"],"summary":"Get Ad","operationId":"ad-get_ad","parameters":[{"name":"ad_id","in":"path","required":true,"schema":{"type":"integer","title":"Ad Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ad/ad_id}/edit":{"post":{"tags":["ad"],"summary":"Edit Ad","operationId":"ad-edit_ad","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"ad_id","in":"query","required":true,"schema":{"type":"integer","title":"Ad Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdBase"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ad/{ad_id}/delete/":{"delete":{"tags":["ad"],"summary":"Delete Ad","operationId":"ad-delete_ad","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"ad_id","in":"path","required":true,"schema":{"type":"integer","title":"Ad Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ad/complains/create":{"post":{"tags":["ad_complains"],"summary":"Complain Ad","operationId":"ad_complains-complain_ad","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComplainBase"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/ad/complains/list/{ad_id}/":{"get":{"tags":["ad_complains"],"summary":"List Complains","operationId":"ad_complains-list_complains","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"ad_id","in":"path","required":true,"schema":{"type":"integer","title":"Ad Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ad/review/create/":{"post":{"tags":["ad_reviews"],"summary":"Review Ad","operationId":"ad_reviews-review_ad","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReviewBase"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyCookie":[]}]}},"/ad/{ad_id}/review/list":{"get":{"tags":["ad_reviews"],"summary":"List Ad Reviews","operationId":"ad_reviews-list_ad_reviews","parameters":[{"name":"ad_id","in":"path","required":true,"schema":{"type":"integer","title":"Ad Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/ad/reviews/{review_id}":{"delete":{"tags":["ad_reviews"],"summary":"Delete Ad Review","operationId":"ad_reviews-delete_ad_review","security":[{"APIKeyCookie":[]}],"parameters":[{"name":"review_id","in":"path","required":true,"schema":{"type":"integer","title":"Review Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/jwt/login":{"post":{"tags":["auth"],"summary":"Auth:Jwt.Login","operationId":"auth-auth:jwt.login","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_auth-auth"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"},"examples":{"LOGIN_BAD_CREDENTIALS":{"summary":"Bad credentials or the user is inactive.","value":{"detail":"LOGIN_BAD_CREDENTIALS"}},"LOGIN_USER_NOT_VERIFIED":{"summary":"The user is not verified.","value":{"detail":"LOGIN_USER_NOT_VERIFIED"}}}}}},"204":{"description":"No Content"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/jwt/logout":{"post":{"tags":["auth"],"summary":"Auth:Jwt.Logout","operationId":"auth-auth:jwt.logout","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"401":{"description":"Missing token or inactive user."},"204":{"description":"No Content"}},"security":[{"APIKeyCookie":[]}]}},"/auth/register":{"post":{"tags":["auth"],"summary":"Register:Register","operationId":"auth-register:register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRead"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorModel"},"examples":{"REGISTER_USER_ALREADY_EXISTS":{"summary":"A user with this email already exists.","value":{"detail":"REGISTER_USER_ALREADY_EXISTS"}},"REGISTER_INVALID_PASSWORD":{"summary":"Password validation failed.","value":{"detail":{"code":"REGISTER_INVALID_PASSWORD","reason":"Password should beat least 3 characters"}}}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AdBase":{"properties":{"type_id":{"type":"integer","title":"Type Id","default":1},"title":{"type":"string","title":"Title","default":"New ad"},"category_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Category Id"},"content":{"type":"string","title":"Content"},"is_published":{"type":"boolean","title":"Is Published","default":true},"owner":{"type":"integer","title":"Owner"},"price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Price"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["content","owner","price"],"title":"AdBase"},"AdListQuery":{"properties":{"page":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Page","default":1},"per_page":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":1.0},{"type":"null"}],"title":"Per Page","default":10},"categories":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Categories"},"ad_type":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Ad Type"},"sort":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Sort"},"creation_time_interval":{"anyOf":[{"$ref":"#/components/schemas/CreationTimeInterval"},{"type":"null"}]},"price_interval":{"anyOf":[{"$ref":"#/components/schemas/PriceInterval"},{"type":"null"}]}},"type":"object","title":"AdListQuery"},"Body_auth-auth":{"properties":{"grant_type":{"anyOf":[{"type":"string","pattern":"password"},{"type":"null"}],"title":"Grant Type"},"username":{"type":"string","title":"Username"},"password":{"type":"string","title":"Password"},"scope":{"type":"string","title":"Scope","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret"}},"type":"object","required":["username","password"],"title":"Body_auth-auth:jwt.login"},"ComplainBase":{"properties":{"ad_id":{"type":"integer","title":"Ad Id"},"title":{"type":"string","title":"Title"},"description":{"type":"string","title":"Description"},"created_by":{"type":"integer","title":"Created By"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["ad_id","title","description","created_by"],"title":"ComplainBase"},"CreationTimeInterval":{"properties":{"older_then":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Older Then"},"newer_then":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Newer Then"}},"type":"object","title":"CreationTimeInterval"},"ErrorModel":{"properties":{"detail":{"anyOf":[{"type":"string"},{"additionalProperties":{"type":"string"},"type":"object"}],"title":"Detail"}},"type":"object","required":["detail"],"title":"ErrorModel"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"PriceInterval":{"properties":{"price_gt":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Price Gt"},"price_lt":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Price Lt"}},"type":"object","title":"PriceInterval"},"ReviewBase":{"properties":{"ad_id":{"type":"integer","title":"Ad Id"},"score":{"type":"integer","maximum":10.0,"minimum":1.0,"title":"Score"},"content":{"type":"string","title":"Content"},"created_by":{"type":"integer","title":"Created By"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["ad_id","score","content","created_by"],"title":"ReviewBase"},"UserCreate":{"properties":{"email":{"type":"string","title":"Email"},"password":{"type":"string","title":"Password"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","default":true},"is_superuser":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Superuser","default":false},"is_verified":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Verified","default":false},"username":{"type":"string","title":"Username"},"first_name":{"type":"string","title":"First Name"},"last_name":{"type":"string","title":"Last Name"},"role_id":{"type":"integer","title":"Role Id"}},"type":"object","required":["email","password","username","first_name","last_name","role_id"],"title":"UserCreate"},"UserRead":{"properties":{"id":{"type":"integer","title":"Id"},"email":{"type":"string","title":"Email"},"is_active":{"type":"boolean","title":"Is Active","default":true},"is_superuser":{"type":"boolean","title":"Is Superuser","default":false},"is_verified":{"type":"boolean","title":"Is Verified","default":false},"username":{"type":"string","title":"Username"},"first_name":{"type":"string","title":"First Name"},"last_name":{"type":"string","title":"Last Name"},"role_id":{"type":"integer","title":"Role Id"}},"type":"object","required":["id","email","username","first_name","last_name","role_id"],"title":"UserRead"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"APIKeyCookie":{"type":"apiKey","in":"cookie","name":"ads_surf_it"}}}}